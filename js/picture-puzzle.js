'use strict';var _createClass=function(){function a(b,c){for(var e,d=0;d<c.length;d++)e=c[d],e.enumerable=e.enumerable||!1,e.configurable=!0,'value'in e&&(e.writable=!0),Object.defineProperty(b,e.key,e)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}var tiles=[],solved=!1,Tile=function(){function a(b,c,d){_classCallCheck(this,a),this.id=b,this.x=c,this.y=d}return _createClass(a,[{key:'setPosition',value:function setPosition(b,c){void 0===b&&(b=this.x),void 0===c&&(c=this.y);var d=$(this.id);d.removeClass('pos'+this.y+this.x),d.addClass('pos'+c+b),this.x=b,this.y=c}}]),a}();tiles=[new Tile('#tile_1',0,0),new Tile('#tile_2',1,0),new Tile('#tile_3',2,0),new Tile('#tile_4',3,0),new Tile('#tile_5',0,1),new Tile('#tile_6',1,1),new Tile('#tile_7',2,1),new Tile('#tile_8',3,1),new Tile('#tile_9',0,2),new Tile('#tile_10',1,2),new Tile('#tile_11',2,2),new Tile('#tile_12',3,2),new Tile('#tile_13',0,3),new Tile('#tile_14',1,3),new Tile('#tile_15',2,3),new Tile('#tile_16',3,3)];for(var solution=[],i=0;i<tiles.length;i++)solution.push({x:tiles[i].x,y:tiles[i].y}),tiles[i].setPosition();function isSwapable(a){var b=tiles[15];return!(1!==Math.abs(a.x-b.x)+Math.abs(a.y-b.y))}function swap(a){if(isSwapable(a)){var b=tiles[15],c=a.x,d=a.y,e=b.x,f=b.y;return a.setPosition(e,f),b.setPosition(c,d),!0}return!1}function isSolved(){for(var a=0;a<tiles.length;a++)if(console.log(tiles[a].x,tiles[a].y),console.log(solution[a].x,solution[a].y),console.log('---'),tiles[a].x!=solution[a].x||tiles[a].y!=solution[a].y)return!1;return!0}function shuffle(){for(var a=0;1e3>a++;)setTimeout(function(){var b=Math.floor(15*Math.random());swap(tiles[b])},5*a)}shuffle(),$('div.tile').on('click',function(){if(solved)return!0;var a=this.id.indexOf('_'),b=+this.id.slice(a+1)-1;swap(tiles[b]),isSolved()?($('h2#solved').html('You did it!'),solved=!0,$('div#tile_16').addClass('solved'),$('button#shuffle').show()):$('h2#solved').html('')}),$('button#shuffle').on('click',function(){shuffle(),$('h2#solved').html(''),solved=!1,$('div#tile_16').removeClass('solved'),$('button#shuffle').hide()});